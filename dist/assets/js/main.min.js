if(document.querySelector(".header-top__burger")){let e=500,t=!0,n=document.querySelector(".header-bottom"),o=document.querySelector(".header-top__burger"),s=document.querySelector(".header-bottom__close");o.addEventListener("click",(function(s){bodyLock(t,!1,e),menuOpen(n,o)})),s.addEventListener("click",(function(s){bodyUnLock(t,!1,e),menuClose(n,o)}))}function menuOpen(e,t){document.documentElement.classList.add("_menu-open"),e.classList.add("_active"),t.classList.add("_active")}function menuClose(e,t){document.documentElement.classList.remove("_menu-open"),e.classList.remove("_active"),t.classList.remove("_active")}const header=document.querySelector(".header");let scrollPrev=0;function bodyLock(e,t,n=500){const o=window.innerWidth-document.querySelector(".page").offsetWidth+"px";if(t.length>0)for(let e=0;e<t.length;e++){t[e].style.paddingRight=o}document.body.style.paddingRight=o,document.body.classList.add("_lock"),setTimeout((function(){!0}),n)}function bodyUnLock(e,t,n=500){setTimeout((function(){if(t.length>0)for(let e=0;e<t.length;e++){t[e].style.paddingRight="0px"}document.body.style.paddingRight="0px",document.body.classList.remove("_lock")}),n),setTimeout((function(){!0}),n)}window.addEventListener("scroll",(function(e){let t=window.pageYOffset;t>100&&t>scrollPrev?header.classList.add("_sticky"):header.classList.remove("_sticky"),scrollPrev=t}));const filter_btn=document.querySelectorAll(".catalog-filters__btn");function filters_init(){filter_btn.forEach((e=>{e.addEventListener("click",(function(){filter_init(e)}))})),document.addEventListener("click",(function(e){filters_close(e)})),document.addEventListener("keydown",(function(e){27==e.which&&filters_close(e)}))}function filters_close(e){if(e.target.blur(),!e.target.closest(".catalog-filters"))for(let e=0;e<filter_btn.length;e++){const t=filter_btn[e].parentElement.querySelector(".catalog-filters__form");t.classList.remove("_filter-show"),_slideUp(t,100)}}function filter_init(e){const t=e.parentElement;t.classList.toggle("_filter-show");let n=t.querySelector(".catalog-filters__form");n&&_slideToggle(n,100,"flex")}filter_btn.length>0&&filters_init();const search_btn=document.querySelector(".header-bottom__search"),search_form=document.querySelector(".header-search");function searchChange(){window.innerWidth>1023&&_slideToggle(search_form,100,"flex")}addEventListener("resize",(e=>{window.innerWidth<1023?search_form.style.display="block":search_form.style.display="none"})),search_btn.addEventListener("click",searchChange),document.addEventListener("keydown",(function(e){(27==e.which||window.innerWidth>1023)&&_slideDown(search_form,100,"none")})),document.addEventListener("click",(e=>{!e.composedPath().includes(header)&&window.innerWidth>1023&&_slideDown(search_form,100,"none")}));const menuLinks=document.querySelectorAll("[data-goto]");function gotoBlock(e){const t=e.target.getAttribute("data-goto"),n=document.querySelector(t);removeActiveClasses(menuLinks,"_active"),e.target.classList.add("_active"),n?(window.scrollTo({top:n.getBoundingClientRect().top+window.scrollY,behavior:"smooth"}),e.preventDefault()):console.log(`[gotoBlock]: Такого блока нет на странице: ${t}`)}function removeActiveClasses(e,t){for(let n=0;n<e.length;n++)e[n].classList.remove(t)}function removeActiveClassesParents(e,t){for(let n=0;n<e.length;n++)e[n].parentElement.classList.remove(t)}menuLinks&&menuLinks.forEach((e=>{e.addEventListener("click",gotoBlock)}));let selects=document.getElementsByTagName("select");function selects_init(){for(let e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){27==e.which&&selects_close(e)}))}function selects_close(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const n=t[e],o=n.querySelector(".select__options");n.classList.remove("_active"),_slideUp(o,100)}}function select_init(e){const t=e.parentElement,n=e.getAttribute("id"),o=e.querySelector("option:checked");e.setAttribute("data-default",o.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+n+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),select_item(e)}function select_item(e){const t=e.parentElement,n=t.querySelector(".select__item"),o=e.querySelectorAll("option"),s=e.querySelector("option:checked").text,l=e.getAttribute("data-type");n&&n.remove();let a="";a="input"==l?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+s+'" data-error="Ошибка" data-value="'+s+'" class="select__input"></div>':`<div class="select__value"><span>${s}</span></div>`,t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+a+'</div><div class="select__options">'+select_get_options(o)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){const n=t.querySelector(".select__item"),o=t.querySelector(".select__options"),s=t.querySelectorAll(".select__option"),l=e.getAttribute("data-type"),a=t.querySelector(".select__input");n.addEventListener("click",(function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const o=e[t],s=o.querySelector(".select__options");o!=n.closest(".select")&&(o.classList.remove("_active"),_slideUp(s,100))}_slideToggle(o,100),t.classList.toggle("_active")}));for(let n=0;n<s.length;n++){const o=s[n],i=o.getAttribute("data-value"),r=o.innerHTML;"input"==l?a.addEventListener("keyup",select_search):o.getAttribute("data-value")==e.value&&o.classList.add("_active"),o.addEventListener("click",(function(){for(let e=0;e<s.length;e++){const t=s[e];t.style.display="block",t.classList.remove("_active")}"input"==l?(a.value=r,e.value=i):(t.querySelector(".select__value").innerHTML=`<span>${r}</span>`,e.value=i,o.classList.add("_active"))}))}}function select_get_options(e){if(e){let t="";for(let n=0;n<e.length;n++){const o=e[n],s=o.value;if(""!=s){t=t+'<div data-value="'+s+'" class="select__option">'+o.text+"</div>"}}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),n=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let o=t[e];(o.textContent||o.innerText).toUpperCase().indexOf(n)>-1?o.style.display="":o.style.display="none"}}function selects_update_all(){let e=document.querySelectorAll("select");if(e)for(let t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();let _slideUp=(e,t=500,n="block")=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideDown=(e,t=500,n="block")=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o=n),e.style.display=o;let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},_slideToggle=(e,t=500,n="block")=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t,n):_slideUp(e,t,n)};const input_number=document.querySelectorAll('input[type="number"]');function imposeMinMax(e){""!=e.value&&(parseInt(e.value)<parseInt(e.min)&&(e.value=e.min),parseInt(e.value)>parseInt(e.max)&&(e.value=e.max))}function dynamicAdapt(e){this.type=e}input_number.forEach((function(e){e.addEventListener("change",(function(){imposeMinMax(e)}))})),dynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(n[0].trim()),o.breakpoint=n[1]?n[1].trim():"767",o.place=n[2]?n[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],o=String.prototype.split.call(n,","),s=window.matchMedia(o[0]),l=o[1],a=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===l}));s.addListener((function(){e.mediaHandler(s,a)})),this.mediaHandler(s,a)}},dynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=0;e<t.length;e++){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},dynamicAdapt.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},dynamicAdapt.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},dynamicAdapt.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},dynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new dynamicAdapt("max");da.init(),$(document).ready((()=>{const e=$(".catalog-tab-nav__item"),t=$(".index-main__btn");let n=$(".catalog-tab-nav__item._active").attr("data-title");const o=$(".catalog-tab");e.click((function(){e.removeClass("_active"),o.removeClass("_active"),$("#"+$(this).attr("data-tabs-button")).addClass("_active"),$(this).addClass("_active"),n=$(this).attr("data-title"),$(".catalog-title").text(n)})),t.click((function(){e.removeClass("_active"),o.removeClass("_active"),$("#"+$(this).attr("data-tabs-button")).addClass("_active"),$('.catalog-tab-nav__item[data-tabs-button="'+$(this).attr("data-tabs-button")+'"]').addClass("_active"),n=$(this).attr("data-title"),$(".catalog-title").text(n)}));const s=$(".novelty-tab-nav__item"),l=$(".novelty-tab");s.click((function(){s.removeClass("_active"),l.removeClass("_active"),$("#"+$(this).attr("data-tabs-button")).addClass("_active"),$(this).addClass("_active")}))})),$(document).ready((()=>{$("[data-popup]").on("click",(function(e){$(".popup").removeClass("show");let t=$(this).attr("data-popup");if($(this).is("[data-theme]")){let e=$(this).attr("data-theme");$(t+' input[name="theme"]').val(e)}"#video"==t&&createLinkVideo($(this).attr("data-link")),$(t).addClass("show"),$("html").addClass("lock")})),$(".popup__close, .popup-close").on("click",(function(){$(".popup").removeClass("show"),$("html").removeClass("lock")})),$(document).on("mouseup",(function(e){var t=$(".popup__body");t.is(e.target)||0!==t.has(e.target).length||($(".popup").removeClass("show"),$("html").removeClass("lock"))})),$('a[href^="#"]').on("click",(function(){let e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top},{duration:500,easing:"swing"}),!1}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll('input[type="tel"]'),t=function(e){return e.value.replace(/\D/g,"")},n=function(e){var n=e.target,o=t(n),s=e.clipboardData||window.clipboardData;if(s){var l=s.getData("Text");if(/\D/g.test(l))return void(n.value=o)}},o=function(e){var n=e.target,o=t(n),s=n.selectionStart,l="";if(!o)return n.value="";if(n.value.length==s){if(["7","8","9"].indexOf(o[0])>-1){"9"==o[0]&&(o="7"+o);var a="8"==o[0]?"8":"+7";l=n.value=a+" ",o.length>1&&(l+="("+o.substring(1,4)),o.length>=5&&(l+=") "+o.substring(4,7)),o.length>=8&&(l+="-"+o.substring(7,9)),o.length>=10&&(l+="-"+o.substring(9,11))}else l="+"+o.substring(0,16);n.value=l}else e.data&&/\D/g.test(e.data)&&(n.value=o)},s=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var l of e)l.addEventListener("keydown",s),l.addEventListener("input",o,!1),l.addEventListener("paste",n,!1)})),document.querySelector(".feedbacks-slider")&&new Swiper(".feedbacks-slider",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:30,speed:1e3,breakpoints:{619:{slidesPerView:2,spaceBetween:20},950:{slidesPerView:3,spaceBetween:30}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},scrollbar:{el:"._fedbacks-scrollbar",draggable:!0}}),document.querySelector("#novelty_quest")&&new Swiper("#novelty_quest",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:30,speed:1e3,breakpoints:{619:{slidesPerView:2,spaceBetween:20},950:{slidesPerView:3,spaceBetween:30}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},scrollbar:{el:"._quest-scrollbar",draggable:!0}}),document.querySelector("#novelty_arena")&&new Swiper("#novelty_arena",{observer:!0,observeParents:!0,watchOverflow:!0,slidesPerView:1,spaceBetween:30,speed:1e3,breakpoints:{619:{slidesPerView:2,spaceBetween:20},950:{slidesPerView:3,spaceBetween:30}},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},scrollbar:{el:"._arena-scrollbar",draggable:!0}}),document.querySelector("#slider-gallary")&&new Swiper("#slider-gallary",{slidesPerView:1,spaceBetween:30,speed:1e3,keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},scrollbar:{el:".slider-scrollbar",draggable:!0},navigation:{nextEl:".product-gallary__btn--next",prevEl:".product-gallary__btn--prev"}});